<%- include('partials/header') %>

<h1 class="mb-4 text-primary">ðŸ“‹ Bookings List</h1>

<a href="/bookings/new" class="btn btn-success mb-4">+ Add New Booking</a>

<% if (bookings.length === 0) { %>
    <div class="alert alert-info">No bookings found.</div>
<% } else { %>
    <table class="table table-bordered table-hover bg-white">
        <thead class="table-dark">
            <tr>
                <th>#</th>
                <th>Office</th>
                <th>Client</th>
                <th>Contract Type</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Total Price</th>
                <th>Initial Payment</th>
                <th>Actions</th> <!-- âœ… Ø§Ø¶Ù Ø¹Ù…ÙˆØ¯ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø²Ø± -->
            </tr>
        </thead>
        <tbody>
            <% bookings.forEach((booking, index) => { %>
                <tr>
                    <td><%= index + 1 %></td>
                    <td><%= booking.office_id ? booking.office_id.office_number : 'N/A' %></td>
                    <td><%= booking.client_id ? booking.client_id.name : 'N/A' %></td>
                    <td><%= booking.contract_type %></td>
                    <td><%= booking.start_date.toISOString().split('T')[0] %></td>
                    <td><%= booking.end_date.toISOString().split('T')[0] %></td>
                    <td>$<%= booking.total_price %></td>
                    <td>$<%= booking.initial_payment %></td>
                    <td>
                        <!-- âœ… Ù‡Ù†Ø§ Ø§Ù„Ø²Ø±Ø§Ø± Ø¨ØªØ§Ø¹ View Payments -->
                        <a href="/payments/booking/<%= booking._id %>" class="btn btn-info btn-sm">View Payments</a>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
<% } %>

<%- include('partials/footer') %>
