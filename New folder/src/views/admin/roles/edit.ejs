<%- include('../../partials/header') %>

<div class="container py-5">
  <h2 class="text-primary mb-4 fw-bold">✏️ تعديل الدور: <%= role.name %></h2>

 <form method="POST" action="/admin/roles/<%= role._id %>?_method=PUT">
  <div class="mb-3">
    <label>Role Name</label>
    <input type="text" name="name" class="form-control" value="<%= role.name %>" required>
  </div>

  <div class="mb-3">
    <label>Permissions</label>
    <% permissions.forEach(p => { %>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" name="permissions" value="<%= p._id %>" 
          <%= role.permissions.includes(p._id.toString()) ? 'checked' : '' %>>
        <label class="form-check-label"><%= p.name %> (<%= p.key %>)</label>
      </div>
    <% }) %>
  </div>

  <button class="btn btn-primary">💾 Save</button>
</form>

</div>

<%- include('../../partials/footer') %>
